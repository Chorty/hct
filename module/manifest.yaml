name: hct

dependencies:

  tools:
    .type: GitHubReleaseAsset
    org: fmtr
    repo: tools.be
    filename: tools.tapp

    .channels:
      development:
        .type: LocalPath
        path: /fm/tools.be/module

patches:
  - .channels:
      development:
        .type: Version
        path: hct_constants.be
        pattern: \bvar\s+VERSION\s*=\s*'{version}'

code_mask: try hct.update("{url}") except 'attribute_error' tasmota.urlfetch("{url}") tasmota.cmd('restart 1') end
